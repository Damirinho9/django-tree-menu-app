# Django Tree Menu

Это пример Django-приложения, которое реализует древовидное меню, редактируемое через стандартную админку.

## Возможности

- Меню хранится в базе данных и может содержать любое количество вложенных пунктов.
- Меню и пункты меню редактируются в стандартной админке Django.
- Активный пункт меню определяется исходя из URL текущей страницы.
- При отрисовке меню раскрыты все пункты, ведущие к активному элементу, а также первый уровень его потомков.
- На любой странице можно выводить несколько меню по названию:

  ```django
  {% load menu_tags %}
  {% draw_menu 'main_menu' %}
  {% draw_menu 'footer_menu' %}
  ```

- Переход по пункту меню осуществляется по указанному в нём URL или имени маршрута.
- На отрисовку каждого меню выполняется ровно один запрос к базе данных.

## Быстрый старт

1. Установите зависимости и создайте базу данных. Приложение использует SQLite по умолчанию:

   ```bash
   python -m venv .venv
   source .venv/bin/activate
   pip install django
   python manage.py migrate
   ```

2. Создайте суперпользователя для доступа в админку:

   ```bash
   python manage.py createsuperuser
   ```

3. Запустите сервер разработки:

   ```bash
   python manage.py runserver
   ```

4. Зайдите в админку по адресу `http://localhost:8000/admin/` и создайте меню и пункты меню. Названия меню должны быть уникальными.

5. Подключите теги меню в нужных шаблонах и отрисуйте меню по имени:

   ```django
   {% load menu_tags %}
   {% draw_menu 'main_menu' %}
   ```

## Структура проекта

- `menu_project/` — конфигурация Django‑проекта.
- `menu_app/` — приложение с моделями меню, тегом шаблона и шаблонами отображения.
- `templates/` — базовые шаблоны для демонстрации.

## Развёртывание

Для продакшена замените `SECRET_KEY`, отключите `DEBUG` и настройте базу данных и `ALLOWED_HOSTS` в файле `menu_project/settings.py`.
